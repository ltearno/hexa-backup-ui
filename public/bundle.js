!function(i){var a={};function t(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return i[e].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=i,t.c=a,t.d=function(i,a,e){t.o(i,a)||Object.defineProperty(i,a,{enumerable:!0,get:e})},t.r=function(i){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},t.t=function(i,a){if(1&a&&(i=t(i)),8&a)return i;if(4&a&&"object"==typeof i&&i&&i.__esModule)return i;var e=Object.create(null);if(t.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:i}),2&a&&"string"!=typeof i)for(var n in i)t.d(e,n,function(a){return i[a]}.bind(null,n));return e},t.n=function(i){var a=i&&i.__esModule?function(){return i.default}:function(){return i};return t.d(a,"a",a),a},t.o=function(i,a){return Object.prototype.hasOwnProperty.call(i,a)},t.p="",t(t.s=8)}([function(i,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const e=t(2),n=new WeakMap;function p(i,a){let t=e.elFromHtml(a);return i.root=t,e.els(t,"[x-id]").forEach(a=>i[a.getAttribute("x-id")]=a),t.hasAttribute("x-id")&&(i[t.getAttribute("x-id")]=t),n.set(t,i),t}function o(i){return n.get(i)}a.createElementAndLocateChildren=p,a.getTemplateInstanceData=o,a.createTemplateInstance=function(i){return o(p({},i))};const l={element:null,childIndex:-1};a.templateGetEventLocation=function(i,a){let t=new Set(Object.values(i)),e=a.target,n=null;do{if(t.has(e))return{element:e,childIndex:n&&Array.prototype.indexOf.call(e.children,n)};if(e==i.root)return l;n=e,e=e.parentElement}while(e);return l}},function(i,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const e=t(6);a.HEXA_BACKUP_BASE_URL="home.lteconsulting.fr"==window.location.hostname?"https://home.lteconsulting.fr":"https://localhost:5005",a.search=async function(i,t){try{let n={name:i,mimeType:t};const{resultDirectories:p,resultFilesddd:o,items:l}=await e.postData(`${a.HEXA_BACKUP_BASE_URL}/search`,n);return{directories:p,files:o,items:l}}catch(i){return null}},a.searchEx=async function(i){try{const{resultDirectories:t,resultFilesddd:n,items:p}=await e.postData(`${a.HEXA_BACKUP_BASE_URL}/search`,i);return{directories:t,files:n,items:p}}catch(i){return null}},a.getJobs=async function(){return await e.getData(`${a.HEXA_BACKUP_BASE_URL}/jobs`)},a.getDirectoryDescriptor=async function(i){return await e.getData(`${a.HEXA_BACKUP_BASE_URL}/sha/${i}/content?type=application/json`)},a.getReferences=async function(){return await e.getData(`${a.HEXA_BACKUP_BASE_URL}/refs`)},a.getReference=async function(i){return await e.getData(`${a.HEXA_BACKUP_BASE_URL}/refs/${i}`)},a.getCommit=async function(i){return await e.getData(`${a.HEXA_BACKUP_BASE_URL}/sha/${i}/content?type=application/json`)},a.getShaInfo=async function(i){return await e.getData(`${a.HEXA_BACKUP_BASE_URL}/sha/${i}/info`)},a.enqueueYoutubeDownload=async function(i){e.postData(`${a.HEXA_BACKUP_BASE_URL}/plugins/youtube/fetch`,{url:i})},a.getShaContentUrl=function(i,t,e,n,p){if(!i)return"#";let o=n?`${a.HEXA_BACKUP_BASE_URL}/sha/${i}/content/${encodeURIComponent(e)}?type=${encodeURIComponent(t)}`:`${a.HEXA_BACKUP_BASE_URL}/sha/${i}/content?type=${encodeURIComponent(t)}`;return p&&(o+=`&fileName=${encodeURIComponent(e||i)}`),o},a.getShaImageThumbnailUrl=function(i,t){return`${a.HEXA_BACKUP_BASE_URL}/sha/${i}/plugins/image/thumbnail?type=${t}`},a.getShaImageMediumThumbnailUrl=function(i,t){return`${a.HEXA_BACKUP_BASE_URL}/sha/${i}/plugins/image/medium?type=${t}`},a.getPlaylists=async function(){return e.getData(`${a.HEXA_BACKUP_BASE_URL}/plugins/playlists`)},a.putItemToPlaylist=async function(i,t,n,p){let o={items:[{name:p,date:Date.now(),isDirectory:"application/directory"==n,mimeType:n,sha:t}]};return await e.putData(`${a.HEXA_BACKUP_BASE_URL}/plugins/playlists/${i}`,o)}},function(i,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.el=function(i){return document.getElementById(i)},a.els=function(i,a){return i.querySelectorAll(a)},a.elFromHtml=function(i){const a=document.createElement("div");return a.innerHTML=i,a.children.item(0)},a.stopEvent=function(i){i.preventDefault(),i.stopPropagation()},a.iter_path_to_root_element=function*(i){for(;i;)yield i,i=i.parentElement}},function(i,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const e=t(0);let n=[];let p=e.createTemplateInstance('\n    <div x-id="messages">\n    </div>');function o(){p.messages.innerHTML=n.map(i=>{let a="";return i.feeling>0?a="background-color: #70ca85; color: white;":i.feeling<0&&(a="background-color: #F44336; color: white;"),`<div class="mui-panel x-message-panel" style="${a}">${i.html}</div>`}).join("")}a.displayMessage=function(i,a){n.push({html:i,feeling:a}),o(),p.root.isConnected||document.body.appendChild(p.root),setTimeout(()=>{n.shift(),o(),n.length||document.body.removeChild(p.root)},4e3)}},function(i,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.extensionFromMimeType=function(i){if("audio/mpeg"==i)return"mp3";for(let[t,e]of Object.entries(a.MimeTypes))if(i==e)return t;return null},a.MimeTypes={"3dml":"text/vnd.in3d.3dml","3ds":"image/x-3ds","3g2":"video/3gpp2","3gp":"video/3gpp","7z":"application/x-7z-compressed",aab:"application/x-authorware-bin",aac:"audio/x-aac",aam:"application/x-authorware-map",aas:"application/x-authorware-seg",abw:"application/x-abiword",ac:"application/pkix-attr-cert",acc:"application/vnd.americandynamics.acc",ace:"application/x-ace-compressed",acu:"application/vnd.acucobol",acutc:"application/vnd.acucorp",adp:"audio/adpcm",aep:"application/vnd.audiograph",afm:"application/x-font-type1",afp:"application/vnd.ibm.modcap",ahead:"application/vnd.ahead.space",ai:"application/postscript",aif:"audio/x-aiff",aifc:"audio/x-aiff",aiff:"audio/x-aiff",air:"application/vnd.adobe.air-application-installer-package+zip",ait:"application/vnd.dvb.ait",ami:"application/vnd.amiga.ami",ape:"audio/ape",apk:"application/vnd.android.package-archive",appcache:"text/cache-manifest",application:"application/x-ms-application",apr:"application/vnd.lotus-approach",arc:"application/x-freearc",asa:"text/plain",asax:"application/octet-stream",asc:"application/pgp-signature",ascx:"text/plain",asf:"video/x-ms-asf",ashx:"text/plain",asm:"text/x-asm",asmx:"text/plain",aso:"application/vnd.accpac.simply.aso",asp:"text/plain",aspx:"text/plain",asx:"video/x-ms-asf",atc:"application/vnd.acucorp",atom:"application/atom+xml",atomcat:"application/atomcat+xml",atomsvc:"application/atomsvc+xml",atx:"application/vnd.antix.game-component",au:"audio/basic",avi:"video/x-msvideo",aw:"application/applixware",axd:"text/plain",azf:"application/vnd.airzip.filesecure.azf",azs:"application/vnd.airzip.filesecure.azs",azw:"application/vnd.amazon.ebook",bat:"application/x-msdownload",bcpio:"application/x-bcpio",bdf:"application/x-font-bdf",bdm:"application/vnd.syncml.dm+wbxml",bed:"application/vnd.realvnc.bed",bh2:"application/vnd.fujitsu.oasysprs",bin:"application/octet-stream",blb:"application/x-blorb",blorb:"application/x-blorb",bmi:"application/vnd.bmi",bmp:"image/bmp",book:"application/vnd.framemaker",box:"application/vnd.previewsystems.box",boz:"application/x-bzip2",bpk:"application/octet-stream",btif:"image/prs.btif",bz:"application/x-bzip",bz2:"application/x-bzip2",c:"text/x-c",c11amc:"application/vnd.cluetrust.cartomobile-config",c11amz:"application/vnd.cluetrust.cartomobile-config-pkg",c4d:"application/vnd.clonk.c4group",c4f:"application/vnd.clonk.c4group",c4g:"application/vnd.clonk.c4group",c4p:"application/vnd.clonk.c4group",c4u:"application/vnd.clonk.c4group",cab:"application/vnd.ms-cab-compressed",caf:"audio/x-caf",cap:"application/vnd.tcpdump.pcap",car:"application/vnd.curl.car",cat:"application/vnd.ms-pki.seccat",cb7:"application/x-cbr",cba:"application/x-cbr",cbr:"application/x-cbr",cbt:"application/x-cbr",cbz:"application/x-cbr",cc:"text/x-c",cct:"application/x-director",ccxml:"application/ccxml+xml",cdbcmsg:"application/vnd.contact.cmsg",cdf:"application/x-netcdf",cdkey:"application/vnd.mediastation.cdkey",cdmia:"application/cdmi-capability",cdmic:"application/cdmi-container",cdmid:"application/cdmi-domain",cdmio:"application/cdmi-object",cdmiq:"application/cdmi-queue",cdx:"chemical/x-cdx",cdxml:"application/vnd.chemdraw+xml",cdy:"application/vnd.cinderella",cer:"application/pkix-cert",cfc:"application/x-coldfusion",cfm:"application/x-coldfusion",cfs:"application/x-cfs-compressed",cgm:"image/cgm",chat:"application/x-chat",chm:"application/vnd.ms-htmlhelp",chrt:"application/vnd.kde.kchart",cif:"chemical/x-cif",cii:"application/vnd.anser-web-certificate-issue-initiation",cil:"application/vnd.ms-artgalry",cla:"application/vnd.claymore",class:"application/java-vm",clkk:"application/vnd.crick.clicker.keyboard",clkp:"application/vnd.crick.clicker.palette",clkt:"application/vnd.crick.clicker.template",clkw:"application/vnd.crick.clicker.wordbank",clkx:"application/vnd.crick.clicker",clp:"application/x-msclip",cmc:"application/vnd.cosmocaller",cmdf:"chemical/x-cmdf",cml:"chemical/x-cml",cmp:"application/vnd.yellowriver-custom-menu",cmx:"image/x-cmx",cod:"application/vnd.rim.cod",com:"application/x-msdownload",conf:"text/plain",cpio:"application/x-cpio",cpp:"text/x-c",cpt:"application/mac-compactpro",crd:"application/x-mscardfile",crl:"application/pkix-crl",crt:"application/x-x509-ca-cert",crx:"application/octet-stream",cryptonote:"application/vnd.rig.cryptonote",cs:"text/plain",csh:"application/x-csh",csml:"chemical/x-csml",csp:"application/vnd.commonspace",css:"text/css",cst:"application/x-director",csv:"text/csv",cu:"application/cu-seeme",curl:"text/vnd.curl",cww:"application/prs.cww",cxt:"application/x-director",cxx:"text/x-c",dae:"model/vnd.collada+xml",daf:"application/vnd.mobius.daf",dart:"application/vnd.dart",dataless:"application/vnd.fdsn.seed",davmount:"application/davmount+xml",dbk:"application/docbook+xml",dcr:"application/x-director",dcurl:"text/vnd.curl.dcurl",dd2:"application/vnd.oma.dd2+xml",ddd:"application/vnd.fujixerox.ddd",deb:"application/x-debian-package",def:"text/plain",deploy:"application/octet-stream",der:"application/x-x509-ca-cert",dfac:"application/vnd.dreamfactory",dgc:"application/x-dgc-compressed",dic:"text/x-c",dir:"application/x-director",dis:"application/vnd.mobius.dis",dist:"application/octet-stream",distz:"application/octet-stream",djv:"image/vnd.djvu",djvu:"image/vnd.djvu",dll:"application/x-msdownload",dmg:"application/x-apple-diskimage",dmp:"application/vnd.tcpdump.pcap",dms:"application/octet-stream",dna:"application/vnd.dna",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",dp:"application/vnd.osgi.dp",dpg:"application/vnd.dpgraph",dra:"audio/vnd.dra",dsc:"text/prs.lines.tag",dssc:"application/dssc+der",dtb:"application/x-dtbook+xml",dtd:"application/xml-dtd",dts:"audio/vnd.dts",dtshd:"audio/vnd.dts.hd",dump:"application/octet-stream",dvb:"video/vnd.dvb.file",dvi:"application/x-dvi",dwf:"model/vnd.dwf",dwg:"image/vnd.dwg",dxf:"image/vnd.dxf",dxp:"application/vnd.spotfire.dxp",dxr:"application/x-director",ecelp4800:"audio/vnd.nuera.ecelp4800",ecelp7470:"audio/vnd.nuera.ecelp7470",ecelp9600:"audio/vnd.nuera.ecelp9600",ecma:"application/ecmascript",edm:"application/vnd.novadigm.edm",edx:"application/vnd.novadigm.edx",efif:"application/vnd.picsel",ei6:"application/vnd.pg.osasli",elc:"application/octet-stream",emf:"application/x-msmetafile",eml:"message/rfc822",emma:"application/emma+xml",emz:"application/x-msmetafile",eol:"audio/vnd.digital-winds",eot:"application/vnd.ms-fontobject",eps:"application/postscript",epub:"application/epub+zip",es3:"application/vnd.eszigno3+xml",esa:"application/vnd.osgi.subsystem",esf:"application/vnd.epson.esf",et3:"application/vnd.eszigno3+xml",etx:"text/x-setext",eva:"application/x-eva",evy:"application/x-envoy",exe:"application/x-msdownload",exi:"application/exi",ext:"application/vnd.novadigm.ext",ez:"application/andrew-inset",ez2:"application/vnd.ezpix-album",ez3:"application/vnd.ezpix-package",f:"text/x-fortran",f4v:"video/x-f4v",f77:"text/x-fortran",f90:"text/x-fortran",fbs:"image/vnd.fastbidsheet",fcdt:"application/vnd.adobe.formscentral.fcdt",fcs:"application/vnd.isac.fcs",fdf:"application/vnd.fdf",fe_launch:"application/vnd.denovo.fcselayout-link",fg5:"application/vnd.fujitsu.oasysgp",fgd:"application/x-director",fh:"image/x-freehand",fh4:"image/x-freehand",fh5:"image/x-freehand",fh7:"image/x-freehand",fhc:"image/x-freehand",fig:"application/x-xfig",flac:"audio/x-flac",fli:"video/x-fli",flo:"application/vnd.micrografx.flo",flv:"video/x-flv",flw:"application/vnd.kde.kivio",flx:"text/vnd.fmi.flexstor",fly:"text/vnd.fly",fm:"application/vnd.framemaker",fnc:"application/vnd.frogans.fnc",for:"text/x-fortran",fpx:"image/vnd.fpx",frame:"application/vnd.framemaker",fsc:"application/vnd.fsc.weblaunch",fst:"image/vnd.fst",ftc:"application/vnd.fluxtime.clip",fti:"application/vnd.anser-web-funds-transfer-initiation",fvt:"video/vnd.fvt",fxp:"application/vnd.adobe.fxp",fxpl:"application/vnd.adobe.fxp",fzs:"application/vnd.fuzzysheet",g2w:"application/vnd.geoplan",g3:"image/g3fax",g3w:"application/vnd.geospace",gac:"application/vnd.groove-account",gam:"application/x-tads",gbr:"application/rpki-ghostbusters",gca:"application/x-gca-compressed",gdl:"model/vnd.gdl",geo:"application/vnd.dynageo",gex:"application/vnd.geometry-explorer",ggb:"application/vnd.geogebra.file",ggt:"application/vnd.geogebra.tool",ghf:"application/vnd.groove-help",gif:"image/gif",gim:"application/vnd.groove-identity-message",gml:"application/gml+xml",gmx:"application/vnd.gmx",gnumeric:"application/x-gnumeric",gph:"application/vnd.flographit",gpx:"application/gpx+xml",gqf:"application/vnd.grafeq",gqs:"application/vnd.grafeq",gram:"application/srgs",gramps:"application/x-gramps-xml",gre:"application/vnd.geometry-explorer",grv:"application/vnd.groove-injector",grxml:"application/srgs+xml",gsf:"application/x-font-ghostscript",gtar:"application/x-gtar",gtm:"application/vnd.groove-tool-message",gtw:"model/vnd.gtw",gv:"text/vnd.graphviz",gxf:"application/gxf",gxt:"application/vnd.geonext",gz:"application/x-gzip",h:"text/x-c",h261:"video/h261",h263:"video/h263",h264:"video/h264",hal:"application/vnd.hal+xml",hbci:"application/vnd.hbci",hdf:"application/x-hdf",hh:"text/x-c",hlp:"application/winhlp",hpgl:"application/vnd.hp-hpgl",hpid:"application/vnd.hp-hpid",hps:"application/vnd.hp-hps",hqx:"application/mac-binhex40",hta:"application/octet-stream",htc:"text/html",htke:"application/vnd.kenameaapp",htm:"text/html",html:"text/html",hvd:"application/vnd.yamaha.hv-dic",hvp:"application/vnd.yamaha.hv-voice",hvs:"application/vnd.yamaha.hv-script",i2g:"application/vnd.intergeo",icc:"application/vnd.iccprofile",ice:"x-conference/x-cooltalk",icm:"application/vnd.iccprofile",ico:"image/x-icon",ics:"text/calendar",ief:"image/ief",ifb:"text/calendar",ifm:"application/vnd.shana.informed.formdata",iges:"model/iges",igl:"application/vnd.igloader",igm:"application/vnd.insors.igm",igs:"model/iges",igx:"application/vnd.micrografx.igx",iif:"application/vnd.shana.informed.interchange",imp:"application/vnd.accpac.simply.imp",ims:"application/vnd.ms-ims",in:"text/plain",ini:"text/plain",ink:"application/inkml+xml",inkml:"application/inkml+xml",install:"application/x-install-instructions",iota:"application/vnd.astraea-software.iota",ipa:"application/octet-stream",ipfix:"application/ipfix",ipk:"application/vnd.shana.informed.package",irm:"application/vnd.ibm.rights-management",irp:"application/vnd.irepository.package+xml",iso:"application/x-iso9660-image",itp:"application/vnd.shana.informed.formtemplate",ivp:"application/vnd.immervision-ivp",ivu:"application/vnd.immervision-ivu",jad:"text/vnd.sun.j2me.app-descriptor",jam:"application/vnd.jam",jar:"application/java-archive",java:"text/x-java-source",jisp:"application/vnd.jisp",jlt:"application/vnd.hp-jlyt",jnlp:"application/x-java-jnlp-file",joda:"application/vnd.joost.joda-archive",jpe:"image/jpeg",jpeg:"image/jpeg",jpg:"image/jpeg",jpgm:"video/jpm",jpgv:"video/jpeg",jpm:"video/jpm",js:"text/javascript",json:"application/json",jsonml:"application/jsonml+json",kar:"audio/midi",karbon:"application/vnd.kde.karbon",kfo:"application/vnd.kde.kformula",kia:"application/vnd.kidspiration",kml:"application/vnd.google-earth.kml+xml",kmz:"application/vnd.google-earth.kmz",kne:"application/vnd.kinar",knp:"application/vnd.kinar",kon:"application/vnd.kde.kontour",kpr:"application/vnd.kde.kpresenter",kpt:"application/vnd.kde.kpresenter",kpxx:"application/vnd.ds-keypoint",ksp:"application/vnd.kde.kspread",ktr:"application/vnd.kahootz",ktx:"image/ktx",ktz:"application/vnd.kahootz",kwd:"application/vnd.kde.kword",kwt:"application/vnd.kde.kword",lasxml:"application/vnd.las.las+xml",latex:"application/x-latex",lbd:"application/vnd.llamagraphics.life-balance.desktop",lbe:"application/vnd.llamagraphics.life-balance.exchange+xml",les:"application/vnd.hhe.lesson-player",lha:"application/x-lzh-compressed",link66:"application/vnd.route66.link66+xml",list:"text/plain",list3820:"application/vnd.ibm.modcap",listafp:"application/vnd.ibm.modcap",lnk:"application/x-ms-shortcut",log:"text/plain",lostxml:"application/lost+xml",lrf:"application/octet-stream",lrm:"application/vnd.ms-lrm",ltf:"application/vnd.frogans.ltf",lvp:"audio/vnd.lucent.voice",lwp:"application/vnd.lotus-wordpro",lz:"application/x-lzip",lzh:"application/x-lzh-compressed",lzma:"application/x-lzma",lzo:"application/x-lzop",m13:"application/x-msmediaview",m14:"application/x-msmediaview",m1v:"video/mpeg",m21:"application/mp21",m2a:"audio/mpeg",m2v:"video/mpeg",m3a:"audio/mpeg",m3u:"audio/x-mpegurl",m3u8:"application/vnd.apple.mpegurl",m4a:"audio/mp4",m4u:"video/vnd.mpegurl",m4v:"video/mp4",ma:"application/mathematica",mads:"application/mads+xml",mag:"application/vnd.ecowin.chart",maker:"application/vnd.framemaker",man:"text/troff",mar:"application/octet-stream",mathml:"application/mathml+xml",mb:"application/mathematica",mbk:"application/vnd.mobius.mbk",mbox:"application/mbox",mc1:"application/vnd.medcalcdata",mcd:"application/vnd.mcd",mcurl:"text/vnd.curl.mcurl",md:"text/plain",mdb:"application/x-msaccess",mdi:"image/vnd.ms-modi",me:"text/troff",mesh:"model/mesh",meta4:"application/metalink4+xml",metalink:"application/metalink+xml",mets:"application/mets+xml",mfm:"application/vnd.mfmp",mft:"application/rpki-manifest",mgp:"application/vnd.osgeo.mapguide.package",mgz:"application/vnd.proteus.magazine",mid:"audio/midi",midi:"audio/midi",mie:"application/x-mie",mif:"application/vnd.mif",mime:"message/rfc822",mj2:"video/mj2",mjp2:"video/mj2",mk3d:"video/x-matroska",mka:"audio/x-matroska",mks:"video/x-matroska",mkv:"video/x-matroska",mlp:"application/vnd.dolby.mlp",mmd:"application/vnd.chipnuts.karaoke-mmd",mmf:"application/vnd.smaf",mmr:"image/vnd.fujixerox.edmics-mmr",mng:"video/x-mng",mny:"application/x-msmoney",mobi:"application/x-mobipocket-ebook",mods:"application/mods+xml",mov:"video/quicktime",movie:"video/x-sgi-movie",mp2:"audio/mpeg",mp21:"application/mp21",mp2a:"audio/mpeg",mp3:"audio/mpeg",opus:"audio/opus",mp4:"video/mp4",mp4a:"audio/mp4",mp4s:"application/mp4",mp4v:"video/mp4",mpc:"application/vnd.mophun.certificate",mpe:"video/mpeg",mpeg:"video/mpeg",mpg:"video/mpeg",mpg4:"video/mp4",mpga:"audio/mpeg",mpkg:"application/vnd.apple.installer+xml",mpm:"application/vnd.blueice.multipass",mpn:"application/vnd.mophun.application",mpp:"application/vnd.ms-project",mpt:"application/vnd.ms-project",mpy:"application/vnd.ibm.minipay",mqy:"application/vnd.mobius.mqy",mrc:"application/marc",mrcx:"application/marcxml+xml",ms:"text/troff",mscml:"application/mediaservercontrol+xml",mseed:"application/vnd.fdsn.mseed",mseq:"application/vnd.mseq",msf:"application/vnd.epson.msf",msh:"model/mesh",msi:"application/x-msdownload",msl:"application/vnd.mobius.msl",msty:"application/vnd.muvee.style",mts:"video/mts",mus:"application/vnd.musician",musicxml:"application/vnd.recordare.musicxml+xml",mvb:"application/x-msmediaview",mwf:"application/vnd.mfer",mxf:"application/mxf",mxl:"application/vnd.recordare.musicxml",mxml:"application/xv+xml",mxs:"application/vnd.triscape.mxs",mxu:"video/vnd.mpegurl","n-gage":"application/vnd.nokia.n-gage.symbian.install",n3:"text/n3",nb:"application/mathematica",nbp:"application/vnd.wolfram.player",nc:"application/x-netcdf",ncx:"application/x-dtbncx+xml",nfo:"text/x-nfo",ngdat:"application/vnd.nokia.n-gage.data",nitf:"application/vnd.nitf",nlu:"application/vnd.neurolanguage.nlu",nml:"application/vnd.enliven",nnd:"application/vnd.noblenet-directory",nns:"application/vnd.noblenet-sealer",nnw:"application/vnd.noblenet-web",npx:"image/vnd.net-fpx",nsc:"application/x-conference",nsf:"application/vnd.lotus-notes",ntf:"application/vnd.nitf",nzb:"application/x-nzb",oa2:"application/vnd.fujitsu.oasys2",oa3:"application/vnd.fujitsu.oasys3",oas:"application/vnd.fujitsu.oasys",obd:"application/x-msbinder",obj:"application/x-tgif",oda:"application/oda",odb:"application/vnd.oasis.opendocument.database",odc:"application/vnd.oasis.opendocument.chart",odf:"application/vnd.oasis.opendocument.formula",odft:"application/vnd.oasis.opendocument.formula-template",odg:"application/vnd.oasis.opendocument.graphics",odi:"application/vnd.oasis.opendocument.image",odm:"application/vnd.oasis.opendocument.text-master",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",oga:"audio/ogg",ogg:"audio/ogg",ogv:"video/ogg",ogx:"application/ogg",omdoc:"application/omdoc+xml",onepkg:"application/onenote",onetmp:"application/onenote",onetoc:"application/onenote",onetoc2:"application/onenote",opf:"application/oebps-package+xml",opml:"text/x-opml",oprc:"application/vnd.palm",org:"application/vnd.lotus-organizer",osf:"application/vnd.yamaha.openscoreformat",osfpvg:"application/vnd.yamaha.openscoreformat.osfpvg+xml",otc:"application/vnd.oasis.opendocument.chart-template",otf:"application/x-font-otf",otg:"application/vnd.oasis.opendocument.graphics-template",oth:"application/vnd.oasis.opendocument.text-web",oti:"application/vnd.oasis.opendocument.image-template",otp:"application/vnd.oasis.opendocument.presentation-template",ots:"application/vnd.oasis.opendocument.spreadsheet-template",ott:"application/vnd.oasis.opendocument.text-template",oxps:"application/oxps",oxt:"application/vnd.openofficeorg.extension",p:"text/x-pascal",p10:"application/pkcs10",p12:"application/x-pkcs12",p7b:"application/x-pkcs7-certificates",p7c:"application/pkcs7-mime",p7m:"application/pkcs7-mime",p7r:"application/x-pkcs7-certreqresp",p7s:"application/pkcs7-signature",p8:"application/pkcs8",pas:"text/x-pascal",paw:"application/vnd.pawaafile",pbd:"application/vnd.powerbuilder6",pbm:"image/x-portable-bitmap",pcap:"application/vnd.tcpdump.pcap",pcf:"application/x-font-pcf",pcl:"application/vnd.hp-pcl",pclxl:"application/vnd.hp-pclxl",pct:"image/x-pict",pcurl:"application/vnd.curl.pcurl",pcx:"image/x-pcx",pdb:"application/vnd.palm",pdf:"application/pdf",pfa:"application/x-font-type1",pfb:"application/x-font-type1",pfm:"application/x-font-type1",pfr:"application/font-tdpfr",pfx:"application/x-pkcs12",pgm:"image/x-portable-graymap",pgn:"application/x-chess-pgn",pgp:"application/pgp-encrypted",phar:"application/octet-stream",php:"text/plain",phps:"application/x-httpd-phps",pic:"image/x-pict",pkg:"application/octet-stream",pki:"application/pkixcmp",pkipath:"application/pkix-pkipath",plb:"application/vnd.3gpp.pic-bw-large",plc:"application/vnd.mobius.plc",plf:"application/vnd.pocketlearn",plist:"application/x-plist",pls:"application/pls+xml",pml:"application/vnd.ctc-posml",png:"image/png",pnm:"image/x-portable-anymap",portpkg:"application/vnd.macports.portpkg",pot:"application/vnd.ms-powerpoint",potm:"application/vnd.ms-powerpoint.template.macroenabled.12",potx:"application/vnd.openxmlformats-officedocument.presentationml.template",ppam:"application/vnd.ms-powerpoint.addin.macroenabled.12",ppd:"application/vnd.cups-ppd",ppm:"image/x-portable-pixmap",pps:"application/vnd.ms-powerpoint",ppsm:"application/vnd.ms-powerpoint.slideshow.macroenabled.12",ppsx:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",ppt:"application/vnd.ms-powerpoint",pptm:"application/vnd.ms-powerpoint.presentation.macroenabled.12",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",pqa:"application/vnd.palm",prc:"application/x-mobipocket-ebook",pre:"application/vnd.lotus-freelance",prf:"application/pics-rules",ps:"application/postscript",psb:"application/vnd.3gpp.pic-bw-small",psd:"image/vnd.adobe.photoshop",psf:"application/x-font-linux-psf",pskcxml:"application/pskc+xml",ptid:"application/vnd.pvi.ptid1",pub:"application/x-mspublisher",pvb:"application/vnd.3gpp.pic-bw-var",pwn:"application/vnd.3m.post-it-notes",pya:"audio/vnd.ms-playready.media.pya",pyv:"video/vnd.ms-playready.media.pyv",qam:"application/vnd.epson.quickanime",qbo:"application/vnd.intu.qbo",qfx:"application/vnd.intu.qfx",qps:"application/vnd.publishare-delta-tree",qt:"video/quicktime",qwd:"application/vnd.quark.quarkxpress",qwt:"application/vnd.quark.quarkxpress",qxb:"application/vnd.quark.quarkxpress",qxd:"application/vnd.quark.quarkxpress",qxl:"application/vnd.quark.quarkxpress",qxt:"application/vnd.quark.quarkxpress",ra:"audio/x-pn-realaudio",ram:"audio/x-pn-realaudio",rar:"application/x-rar-compressed",ras:"image/x-cmu-raster",rb:"text/plain",rcprofile:"application/vnd.ipunplugged.rcprofile",rdf:"application/rdf+xml",rdz:"application/vnd.data-vision.rdz",rep:"application/vnd.businessobjects",res:"application/x-dtbresource+xml",resx:"text/xml",rgb:"image/x-rgb",rif:"application/reginfo+xml",rip:"audio/vnd.rip",ris:"application/x-research-info-systems",rl:"application/resource-lists+xml",rlc:"image/vnd.fujixerox.edmics-rlc",rld:"application/resource-lists-diff+xml",rm:"application/vnd.rn-realmedia",rmi:"audio/midi",rmp:"audio/x-pn-realaudio-plugin",rms:"application/vnd.jcp.javame.midlet-rms",rmvb:"application/vnd.rn-realmedia-vbr",rnc:"application/relax-ng-compact-syntax",roa:"application/rpki-roa",roff:"text/troff",rp9:"application/vnd.cloanto.rp9",rpm:"application/x-rpm",rpss:"application/vnd.nokia.radio-presets",rpst:"application/vnd.nokia.radio-preset",rq:"application/sparql-query",rs:"application/rls-services+xml",rsd:"application/rsd+xml",rss:"application/rss+xml",rtf:"application/rtf",rtx:"text/richtext",s:"text/x-asm",s3m:"audio/s3m",s7z:"application/x-7z-compressed",saf:"application/vnd.yamaha.smaf-audio",safariextz:"application/octet-stream",sass:"text/x-sass",sbml:"application/sbml+xml",sc:"application/vnd.ibm.secure-container",scd:"application/x-msschedule",scm:"application/vnd.lotus-screencam",scq:"application/scvp-cv-request",scs:"application/scvp-cv-response",scss:"text/x-scss",scurl:"text/vnd.curl.scurl",sda:"application/vnd.stardivision.draw",sdc:"application/vnd.stardivision.calc",sdd:"application/vnd.stardivision.impress",sdkd:"application/vnd.solent.sdkm+xml",sdkm:"application/vnd.solent.sdkm+xml",sdp:"application/sdp",sdw:"application/vnd.stardivision.writer",see:"application/vnd.seemail",seed:"application/vnd.fdsn.seed",sema:"application/vnd.sema",semd:"application/vnd.semd",semf:"application/vnd.semf",ser:"application/java-serialized-object",setpay:"application/set-payment-initiation",setreg:"application/set-registration-initiation","sfd-hdstx":"application/vnd.hydrostatix.sof-data",sfs:"application/vnd.spotfire.sfs",sfv:"text/x-sfv",sgi:"image/sgi",sgl:"application/vnd.stardivision.writer-global",sgm:"text/sgml",sgml:"text/sgml",sh:"application/x-sh",shar:"application/x-shar",shf:"application/shf+xml",sid:"image/x-mrsid-image",sig:"application/pgp-signature",sil:"audio/silk",silo:"model/mesh",sis:"application/vnd.symbian.install",sisx:"application/vnd.symbian.install",sit:"application/x-stuffit",sitx:"application/x-stuffitx",skd:"application/vnd.koan",skm:"application/vnd.koan",skp:"application/vnd.koan",skt:"application/vnd.koan",sldm:"application/vnd.ms-powerpoint.slide.macroenabled.12",sldx:"application/vnd.openxmlformats-officedocument.presentationml.slide",slt:"application/vnd.epson.salt",sm:"application/vnd.stepmania.stepchart",smf:"application/vnd.stardivision.math",smi:"application/smil+xml",smil:"application/smil+xml",smv:"video/x-smv",smzip:"application/vnd.stepmania.package",snd:"audio/basic",snf:"application/x-font-snf",so:"application/octet-stream",spc:"application/x-pkcs7-certificates",spf:"application/vnd.yamaha.smaf-phrase",spl:"application/x-futuresplash",spot:"text/vnd.in3d.spot",spp:"application/scvp-vp-response",spq:"application/scvp-vp-request",spx:"audio/ogg",sql:"application/x-sql",src:"application/x-wais-source",srt:"application/x-subrip",sru:"application/sru+xml",srx:"application/sparql-results+xml",ssdl:"application/ssdl+xml",sse:"application/vnd.kodak-descriptor",ssf:"application/vnd.epson.ssf",ssml:"application/ssml+xml",st:"application/vnd.sailingtracker.track",stc:"application/vnd.sun.xml.calc.template",std:"application/vnd.sun.xml.draw.template",stf:"application/vnd.wt.stf",sti:"application/vnd.sun.xml.impress.template",stk:"application/hyperstudio",stl:"application/vnd.ms-pki.stl",str:"application/vnd.pg.format",stw:"application/vnd.sun.xml.writer.template",styl:"text/x-styl",sub:"image/vnd.dvb.subtitle",sus:"application/vnd.sus-calendar",susp:"application/vnd.sus-calendar",sv4cpio:"application/x-sv4cpio",sv4crc:"application/x-sv4crc",svc:"application/vnd.dvb.service",svd:"application/vnd.svd",svg:"image/svg+xml",svgz:"image/svg+xml",swa:"application/x-director",swf:"application/x-shockwave-flash",swi:"application/vnd.aristanetworks.swi",sxc:"application/vnd.sun.xml.calc",sxd:"application/vnd.sun.xml.draw",sxg:"application/vnd.sun.xml.writer.global",sxi:"application/vnd.sun.xml.impress",sxm:"application/vnd.sun.xml.math",sxw:"application/vnd.sun.xml.writer",t:"text/troff",t3:"application/x-t3vm-image",taglet:"application/vnd.mynfc",tao:"application/vnd.tao.intent-module-archive",tar:"application/x-tar",tcap:"application/vnd.3gpp2.tcap",tcl:"application/x-tcl",teacher:"application/vnd.smart.teacher",tei:"application/tei+xml",teicorpus:"application/tei+xml",tex:"application/x-tex",texi:"application/x-texinfo",texinfo:"application/x-texinfo",text:"text/plain",tfi:"application/thraud+xml",tfm:"application/x-tex-tfm",tga:"image/x-tga",tgz:"application/x-gzip",thmx:"application/vnd.ms-officetheme",tif:"image/tiff",tiff:"image/tiff",tmo:"application/vnd.tmobile-livetv",torrent:"application/x-bittorrent",tpl:"application/vnd.groove-tool-template",tpt:"application/vnd.trid.tpt",tr:"text/troff",tra:"application/vnd.trueapp",trm:"application/x-msterminal",tsd:"application/timestamped-data",tsv:"text/tab-separated-values",ttc:"application/x-font-ttf",ttf:"application/x-font-ttf",ttl:"text/turtle",twd:"application/vnd.simtech-mindmapper",twds:"application/vnd.simtech-mindmapper",txd:"application/vnd.genomatix.tuxedo",txf:"application/vnd.mobius.txf",txt:"text/plain",u32:"application/x-authorware-bin",udeb:"application/x-debian-package",ufd:"application/vnd.ufdl",ufdl:"application/vnd.ufdl",ulx:"application/x-glulx",umj:"application/vnd.umajin",unityweb:"application/vnd.unity",uoml:"application/vnd.uoml+xml",uri:"text/uri-list",uris:"text/uri-list",urls:"text/uri-list",ustar:"application/x-ustar",utz:"application/vnd.uiq.theme",uu:"text/x-uuencode",uva:"audio/vnd.dece.audio",uvd:"application/vnd.dece.data",uvf:"application/vnd.dece.data",uvg:"image/vnd.dece.graphic",uvh:"video/vnd.dece.hd",uvi:"image/vnd.dece.graphic",uvm:"video/vnd.dece.mobile",uvp:"video/vnd.dece.pd",uvs:"video/vnd.dece.sd",uvt:"application/vnd.dece.ttml+xml",uvu:"video/vnd.uvvu.mp4",uvv:"video/vnd.dece.video",uvva:"audio/vnd.dece.audio",uvvd:"application/vnd.dece.data",uvvf:"application/vnd.dece.data",uvvg:"image/vnd.dece.graphic",uvvh:"video/vnd.dece.hd",uvvi:"image/vnd.dece.graphic",uvvm:"video/vnd.dece.mobile",uvvp:"video/vnd.dece.pd",uvvs:"video/vnd.dece.sd",uvvt:"application/vnd.dece.ttml+xml",uvvu:"video/vnd.uvvu.mp4",uvvv:"video/vnd.dece.video",uvvx:"application/vnd.dece.unspecified",uvvz:"application/vnd.dece.zip",uvx:"application/vnd.dece.unspecified",uvz:"application/vnd.dece.zip",vcard:"text/vcard",vcd:"application/x-cdlink",vcf:"text/x-vcard",vcg:"application/vnd.groove-vcard",vcs:"text/x-vcalendar",vcx:"application/vnd.vcx",vis:"application/vnd.visionary",viv:"video/vnd.vivo",vob:"video/x-ms-vob",vor:"application/vnd.stardivision.writer",vox:"application/x-authorware-bin",vrml:"model/vrml",vsd:"application/vnd.visio",vsf:"application/vnd.vsf",vss:"application/vnd.visio",vst:"application/vnd.visio",vsw:"application/vnd.visio",vtu:"model/vnd.vtu",vxml:"application/voicexml+xml",w3d:"application/x-director",wad:"application/x-doom",wav:"audio/x-wav",wax:"audio/x-ms-wax",wbmp:"image/vnd.wap.wbmp",wbs:"application/vnd.criticaltools.wbs+xml",wbxml:"application/vnd.wap.wbxml",wcm:"application/vnd.ms-works",wdb:"application/vnd.ms-works",wdp:"image/vnd.ms-photo",weba:"audio/webm",webm:"video/webm",webp:"image/webp",wg:"application/vnd.pmi.widget",wgt:"application/widget",wks:"application/vnd.ms-works",wm:"video/x-ms-wm",wma:"audio/x-ms-wma",wmd:"application/x-ms-wmd",wmf:"application/x-msmetafile",wml:"text/vnd.wap.wml",wmlc:"application/vnd.wap.wmlc",wmls:"text/vnd.wap.wmlscript",wmlsc:"application/vnd.wap.wmlscriptc",wmv:"video/x-ms-wmv",wmx:"video/x-ms-wmx",wmz:"application/x-ms-wmz",woff:"application/x-font-woff",wpd:"application/vnd.wordperfect",wpl:"application/vnd.ms-wpl",wps:"application/vnd.ms-works",wqd:"application/vnd.wqd",wri:"application/x-mswrite",wrl:"model/vrml",wsdl:"application/wsdl+xml",wspolicy:"application/wspolicy+xml",wtb:"application/vnd.webturbo",wvx:"video/x-ms-wvx",x32:"application/x-authorware-bin",x3d:"model/x3d+xml",x3db:"model/x3d+binary",x3dbz:"model/x3d+binary",x3dv:"model/x3d+vrml",x3dvz:"model/x3d+vrml",x3dz:"model/x3d+xml",xaml:"application/xaml+xml",xap:"application/x-silverlight-app",xar:"application/vnd.xara",xbap:"application/x-ms-xbap",xbd:"application/vnd.fujixerox.docuworks.binder",xbm:"image/x-xbitmap",xdf:"application/xcap-diff+xml",xdm:"application/vnd.syncml.dm+xml",xdp:"application/vnd.adobe.xdp+xml",xdssc:"application/dssc+xml",xdw:"application/vnd.fujixerox.docuworks",xenc:"application/xenc+xml",xer:"application/patch-ops-error+xml",xfdf:"application/vnd.adobe.xfdf",xfdl:"application/vnd.xfdl",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xhvml:"application/xv+xml",xif:"image/vnd.xiff",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",xm:"audio/xm",xml:"application/xml",xo:"application/vnd.olpc-sugar",xop:"application/xop+xml",xpi:"application/x-xpinstall",xpl:"application/xproc+xml",xpm:"image/x-xpixmap",xpr:"application/vnd.is-xpr",xps:"application/vnd.ms-xpsdocument",xpw:"application/vnd.intercon.formnet",xpx:"application/vnd.intercon.formnet",xsl:"application/xml",xslt:"application/xslt+xml",xsm:"application/vnd.syncml+xml",xspf:"application/xspf+xml",xul:"application/vnd.mozilla.xul+xml",xvm:"application/xv+xml",xvml:"application/xv+xml",xwd:"image/x-xwindowdump",xyz:"chemical/x-xyz",xz:"application/x-xz",yaml:"text/yaml",yang:"application/yang",yin:"application/yin+xml",yml:"text/yaml",z:"application/x-compress",z1:"application/x-zmachine",z2:"application/x-zmachine",z3:"application/x-zmachine",z4:"application/x-zmachine",z5:"application/x-zmachine",z6:"application/x-zmachine",z7:"application/x-zmachine",z8:"application/x-zmachine",zaz:"application/vnd.zzazz.deck+xml",zip:"application/zip",zir:"application/vnd.zul",zirz:"application/vnd.zul",zmm:"application/vnd.handheld-entertainment+xml",123:"application/vnd.lotus-1-2-3"}},function(i,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.goShaInfo=function(i){window.location.href=`#/info/${encodeURIComponent(JSON.stringify(i))}`}},function(i,a,t){"use strict";async function e(i){if(!i||!i.ok)return console.error(`bad response : ${JSON.stringify(i)}`),null;let a=i.headers.get("Content-Type")||"application/json",t=a.indexOf(";");return t>=0&&(a=a.substr(0,t)),"application/json"==a?await i.json():await i.text()}Object.defineProperty(a,"__esModule",{value:!0}),a.getData=function(i,a=null){const t={method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrer:"no-referrer"};return a&&(t.headers=a),fetch(i,t).then(e)},a.postData=function(i,a={},t="application/json"){return fetch(i,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrer:"no-referrer",headers:{"Content-Type":t},body:"application/json"==t?JSON.stringify(a):a}).then(e)},a.putData=function(i,a={},t="application/json"){return fetch(i,{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrer:"no-referrer",headers:{"Content-Type":t},body:"application/json"==t?JSON.stringify(a):a}).then(e)},a.deleteData=function(i,a={},t="application/json"){return fetch(i,{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrer:"no-referrer",headers:{"Content-Type":t},body:"application/json"==t?JSON.stringify(a):a}).then(e)}},function(i,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const e=t(6);function n(i){return new Promise(a=>setTimeout(a,i))}let p=null;class o{onError(){window.location.reload()}async loop(){for(;;){try{let i=await e.postData("https://home.lteconsulting.fr/auth");if(i&&i.token){let a=await e.getData("https://home.lteconsulting.fr/well-known/v1/setCookie",{Authorization:`Bearer ${i.token}`});a&&a.lifetime||(console.error("cannot setCookie",a),this.onError()),p=await e.getData("https://home.lteconsulting.fr/well-known/v1/me")}else console.error("cannot obtain auth token"),this.onError()}catch(i){console.error(`cannot refresh auth (${i})`),this.onError()}await n(18e5)}}}a.autoRenewAuth=function(){(new o).loop()},a.me=async function(){return p||(p=await e.getData("https://home.lteconsulting.fr/well-known/v1/me")),p}},function(i,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const e=t(2),n=t(9),p=t(10),o=t(11),l=t(1),s=t(7),c=t(0),d=t(4),r=t(3),m=t(13),u=t(14),v=t(15),x=t(5),f=t(16);function h(){let i=!1,a=!0,t=!0,e=!1,p="";window.location.hash&&window.location.hash.startsWith("#")&&(p=window.location.hash.substr(1));let c=function(i){var a,t,e,n=document.createElement("a"),p={};for(n.href=i,a=n.search.replace(/^\?/,"").split("&"),e=0;e<a.length;e++)p[(t=a[e].split("="))[0]]=decodeURIComponent(t[1]);return{pathname:decodeURIComponent(n.pathname),searchObject:p}}(p);if(c.pathname.startsWith("/search/"))!async function(i){n.searchPanel.displayTitle(w,!1);const a=_(()=>r.displayMessage(`Still searching '${i}' ...`,0));let t="%";switch(E){case y.Audio:t="audio/%";break;case y.Image:t="image/%"}let e=await l.search(i,t);e||(a.done(),r.displayMessage("Error occurred, retry please...",-1));switch(e.items=e.items.filter(i=>"application/directory"!=i.mimeType).concat(e.items.filter(i=>"application/directory"==i.mimeType)),e.items=M(e.items),j=e.items,$=i,a.done(),L(P.root),E){case y.Audio:o.directoryPanel.setValues(P,{name:`Results for '${i}'`,items:e.items});break;case y.Image:o.directoryPanel.setImages(P,{term:i,items:e.items})}}(c.pathname.substr("/search/".length));else if("/settings"==c.pathname)L(b.root),t=!1,e=!0;else if(c.pathname.startsWith("/directories/")){const i=c.pathname.substring("/directories/".length);S({lastWrite:0,mimeType:"application/directory",size:0,sha:i,name:c.searchObject.name||i})}else if("/browse"==c.pathname)!async function(){let i=_(()=>{L(P.root),o.directoryPanel.setLoading(P,"References")}),a=(await l.getReferences()).map(i=>({name:i,lastWrite:0,mimeType:"application/reference",sha:i,size:0}));j=a,$="",i.done(),L(P.root),o.directoryPanel.setValues(P,{name:"References",items:a})}();else if(c.pathname.startsWith("/refs/")){!async function(i){const a=_(()=>{L(P.root),o.directoryPanel.setLoading(P,`Reference '${i}'`)});let t=await l.getReference(i),e=await l.getCommit(t.currentCommitSha);a.done(),await S({sha:e.directoryDescriptorSha,name:i,mimeType:"application/directory",lastWrite:0,size:0})}(c.pathname.substring("/refs/".length))}else if("/playlists"==c.pathname)!async function(){let i=_(()=>{L(P.root),o.directoryPanel.setLoading(P,"Playlists")}),a=(await l.getPlaylists()).map(i=>i.substr(0,1).toUpperCase()+i.substr(1).toLowerCase()).map(i=>({name:i,lastWrite:0,mimeType:"application/playlist",sha:i,size:0}));j=a,$="",i.done(),L(P.root),o.directoryPanel.setValues(P,{name:"Playlists",items:a})}();else if(c.pathname.startsWith("/playlists/")){!async function(i){const a=_(()=>{L(P.root),o.directoryPanel.setLoading(P,`Playlist '${i}'`)});let t=await s.me(),e=await l.getReference(`PLUGIN-PLAYLISTS-${t.uuid.toUpperCase()}-${i.toUpperCase()}`),n=await l.getCommit(e.currentCommitSha);a.done(),await S({sha:n.directoryDescriptorSha,name:i,mimeType:"application/directory",lastWrite:0,size:0})}(c.pathname.substring("/playlists/".length))}else if("/slideshow"==c.pathname)i=!0,function(){z||(z=m.create());L(z.root)}();else if(c.pathname.startsWith("/info/")){a=!1,function(i){u.show(i)}(JSON.parse(c.pathname.substring("/info/".length)))}else console.log(`unkown path ${c.pathname}`);a&&u.hide(),g(!i,k),g(t,w),g(e,b)}const g=(i,a)=>{i?a.root.classList.remove("is-hidden"):a.root.classList.add("is-hidden")};var y;!function(i){i[i.Audio=0]="Audio",i[i.Image=1]="Image"}(y||(y={}));const b=f.create(),w=n.searchPanel.create(),k=p.audioPanel.create(),T=new p.AudioJukebox(k),P=o.directoryPanel.create();let z=null,j=null,$=null,I=null,E=y.Audio;function L(i){i!==I&&(I&&I.parentElement&&I.parentElement.removeChild(I),(I=i)&&e.el("content-wrapper").insertBefore(i,e.el("first-element-after-contents")))}document.body.appendChild(k.root),e.el("content-wrapper").insertBefore(w.root,e.el("first-element-after-contents")),s.autoRenewAuth();const _=i=>{let a=!1;return setTimeout(()=>a||i(),500),{done:()=>{a=!0}}};function M(i){return i.map(i=>{if(i.mimeType.startsWith("audio/")){let a=i.name.lastIndexOf(".");a&&(i.name=i.name.substring(0,a)),i.name=i.name.replace(/'_'/g," ").replace(/'  '/g," ").replace(/[ ]*-[ ]*/g," - ")}return i})}function q(i){if(i.isDirectory)return"application/directory";let a=i.name.lastIndexOf(".");if(a>=0){let t=i.name.substr(a+1).toLocaleLowerCase();if(t in d.MimeTypes)return d.MimeTypes[t]}return"application/octet-stream"}function A(i){return{sha:i.contentSha,name:i.name,mimeType:q(i),lastWrite:i.lastWrite,size:i.size}}async function S(i){const a=_(()=>{L(P.root),o.directoryPanel.setLoading(P,i.name)});let t=(await l.getDirectoryDescriptor(i.sha)).files.map(A);switch(t=M(t),j=t,$=i.name,a.done(),L(P.root),E){case y.Audio:o.directoryPanel.setValues(P,{name:i.name,items:t});break;case y.Image:o.directoryPanel.setImages(P,{term:i.name,items:t})}}function U(i,a){let t=j[i];if(a.target.classList.contains("x-info-display-action"))!function(i){x.goShaInfo(i)}(t);else{if(a.target.classList.contains("x-image-zoom-action")){let a=j,e=i;const n=i=>{let t=e+i;for(;t>=0&&t<a.length&&!a[t].mimeType.startsWith("image/");)t+=i;return t>=0&&t<a.length?(e=t,a[t]):null};v.show(t,{next:()=>n(1),previous:()=>n(-1)})}if("application/directory"==t.mimeType)!function(i,a){const t=`#/directories/${i}?name=${encodeURIComponent($?$+"/"+a:a)}`;window.location.href=t}(t.sha,t.name);else if("application/reference"==t.mimeType)!function(i){const a=`#/refs/${i}`;window.location.href=a}(t.sha);else if("application/playlist"==t.mimeType)e=t.sha,window.location.href=`#/playlists/${e}`;else if(t.mimeType.startsWith("audio/"))if(T.addAndPlay(t),i>=j.length-1)T.setItemUnroller(null);else{let a=$,t=j.slice(i+1).filter(i=>i.mimeType.startsWith("audio/")),e=0;t.length&&T.setItemUnroller({name:()=>e>=0&&e<t.length?`then '${t[e].name.substr(0,20)}' and ${t.length-e-1} other '${a}' items...`:`finished '${a} songs`,unroll:()=>t[e++],hasNext:()=>e>=0&&e<t.length})}var e}}w.form.addEventListener("submit",i=>{e.stopEvent(i);let a=w.term.value;w.term.blur(),function(i){const a=`#/search/${i}`;window.location.href=a}(a)}),P.root.addEventListener("click",async i=>{e.stopEvent(i);let{element:a,childIndex:t}=c.templateGetEventLocation(P,i);j&&a==P.items&&t>=0&&t<j.length&&U(t,i)}),w.audioMode.addEventListener("click",i=>{e.stopEvent(i),E!=y.Audio?(r.displayMessage("Audio mode activated",0),E=y.Audio,h()):r.displayMessage("Audio mode already activated",0)}),w.imageMode.addEventListener("click",i=>{e.stopEvent(i),E!=y.Image?(r.displayMessage("Image mode activated",0),E=y.Image,h()):r.displayMessage("Image mode already activated",0)}),h(),window.onpopstate=function(i){h()},s.me().then(i=>e.el("user-id").innerText=i.uuid)},function(i,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const e=t(0);a.searchPanel={create:()=>e.createTemplateInstance('\n<div class=\'mui-container-fluid\'>\n    <div class="mui--text-center">\n        <h1 x-id="title" class="animated--quick">Raccoon</h1>\n        <h4 x-id="subTitle">Search for songs</h4>\n        <form x-id="form" class="mui-form--inline">\n            \x3c!--this is a little hack to have things centered--\x3e\n            <div class="mui-btn mui-btn--flat" style="visibility: hidden;">üîç</div>\n            <div class="mui-textfield">\n                <input x-id="term" type="text" style="text-align: center;" autofocus>\n            </div>\n            <button role="submit" class="mui-btn mui-btn--flat">üîç</button>\n        </form>\n        <span><a x-id=\'audioMode\' href="#">üé∂</a>&nbsp;<a x-id=\'imageMode\' href="#">Ô∏èüéûÔ∏è</a></span>\n        <br />\n    </div>\n</div>'),displayTitle:(i,a)=>{a?(i.title.classList.remove("hexa--reduced"),i.subTitle.style.display=void 0):(i.title.classList.add("hexa--reduced"),i.subTitle.style.display="none")}}},function(i,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const e=t(0),n=t(1),p=t(2),o=t(4),l=t(3),s=t(5);a.audioPanel={create:()=>e.createTemplateInstance('\n<div class="audio-footer mui-panel">\n    <h3 class="x-when-large-display">Playlist</h3>\n    <div x-id="playlist"></div>\n    <div x-id="expander" class="onclick mui--text-center">‚ò∞</div>\n    <div class="x-horizontal-flex" style="width:100%;">\n        <a x-id="infoButton" href="#" class="mui-btn mui-btn--fab">Info</a>\n        <a x-id="nextButton" href="#" class="mui-btn mui-btn--fab">Next</a>\n        <audio x-id="player" class="audio-player" controls preload="metadata"></audio>\n        <a x-id="addPlaylistButton" href="#toto" class="mui-btn mui-btn--fab" style="background-color: #ff408173; color: white;">+ PL.</a></div>\n    </div>\n</div>'),play:(i,a,t,e)=>{i.player.setAttribute("src",n.getShaContentUrl(t,e,a,!1,!1)),i.player.setAttribute("type",e),i.player.play(),i.root.classList.remove("is-hidden")}};a.AudioJukebox=class{constructor(i){this.audioPanel=i,this.playImmediately=!1,this.largeDisplay=!1,this.queue=[],this.currentIndex=-1,this.lastAddedPlaylist=localStorage.getItem("last-added-playlist")||null,this.scrollToPlayingItem=!0,this.playImmediately="true"==localStorage.getItem("play-immediately");try{let i=JSON.parse(localStorage.getItem("playlist-backup"));i&&i instanceof Array&&(this.queue=i)}catch(i){console.error("error loading queue from local storage",i)}this.expandedElements=p.els(this.audioPanel.root,".x-when-large-display"),this.audioPanel.player.addEventListener("ended",()=>{this.playNext()}),this.audioPanel.player.addEventListener("error",()=>{l.displayMessage("Audio player encounter an error, playing next song",-1),this.playNext()}),this.audioPanel.player.addEventListener("stalled",()=>{l.displayMessage("Audio player is stalled (low network?)",-1)}),this.audioPanel.expander.addEventListener("click",()=>{this.largeDisplay=!this.largeDisplay,this.scrollToPlayingItem=!0,this.refreshPlaylist()}),this.audioPanel.root.addEventListener("click",i=>{for(let a of p.iter_path_to_root_element(i.target)){const i=a.getAttribute("x-queue-index");if("string"==typeof i){let a=parseInt(i);NaN!==a&&(a>=0&&a<this.queue.length?this.play(a):this.playNextUnrolled())}}const{element:a,childIndex:t}=e.templateGetEventLocation(this.audioPanel,i);if(a==this.audioPanel.playlist&&t>=0)if(i.target==this.audioPanel.playlist.querySelector("[x-id='clear-playlist']")){let i=this.currentItem();i?(this.queue=[i],this.currentIndex=0):this.queue=[],localStorage.removeItem("playlist-backup"),this.refreshPlaylist()}else if(i.target==this.audioPanel.playlist.querySelector("[x-id='play-immediately']")){let i=this.audioPanel.playlist.querySelector("[x-id='play-immediately']");this.playImmediately=!!i.checked,localStorage.setItem("play-immediately",this.playImmediately?"true":"false")}}),this.audioPanel.addPlaylistButton.addEventListener("click",async i=>{p.stopEvent(i);let a=this.currentItem();if(!a)return void l.displayMessage("Cannot add to playlist, nothing playing",-1);let t=await n.getPlaylists();const s=e.createTemplateInstance(`\n                <div class="mui-container" style="text-align: center;">\n                    <div class='mui-panel'>\n                        <h2>Choose a playlist to add '${a.name}'</h2>\n                        <div x-id='existingPlaylists' style="display:flex; flex-flow: column nowrap;">\n                        ${t.map(i=>i.substr(0,1).toUpperCase()+i.substr(1).toLowerCase()).map(i=>`<div x-playlist="${i}" class="mui-btn ${i==this.lastAddedPlaylist?"mui-btn--primary":"mui-btn--flat"}">${i}</div>`).join("")}\n                        </div>\n                        <form x-id="form" class="mui-form--inline">\n                            <div class="mui-textfield">\n                                <input x-id="playlistInput" type="text" style="text-align: center;" placeholder="New playlist">\n                            </div>\n                            <button role="submit" class="mui-btn mui-btn--flat">Create</button>\n                        </form>\n                        <button x-id='cancel' class="mui-btn mui-btn--flat mui-btn--accent">Cancel</button>\n                    </div>\n                </div>`);mui.overlay("on",{keyboard:!0,static:!1,onclose:function(){}},s.root);const c=async i=>{this.lastAddedPlaylist=i,localStorage.setItem("last-added-playlist",this.lastAddedPlaylist),mui.overlay("off");let t=o.extensionFromMimeType(a.mimeType);await n.putItemToPlaylist(i,a.sha,a.mimeType,`${a.name}.${t}`),l.displayMessage(`üëç ${a.name} added to playlist '${i}'`,1)};s.existingPlaylists.addEventListener("click",async i=>{p.stopEvent(i);const a=i.target;if(a.hasAttribute("x-playlist")){const i=a.getAttribute("x-playlist");await c(i)}}),s.form.addEventListener("submit",async i=>{p.stopEvent(i);const a=s.playlistInput.value;a&&""!=a.trim()&&await c(a)}),s.cancel.addEventListener("click",i=>{p.stopEvent(i),mui.overlay("off")})}),this.audioPanel.infoButton.addEventListener("click",async i=>{p.stopEvent(i);let a=this.currentItem();a?s.goShaInfo({sha:a.sha,name:a.name,mimeType:a.mimeType,lastWrite:0,size:0}):l.displayMessage("Nothing playing",-1)}),this.audioPanel.nextButton.addEventListener("click",async i=>{p.stopEvent(i),this.playNext()}),this.refreshPlaylist()}currentItem(){return this.currentIndex<0||this.currentIndex>=this.queue.length?null:this.queue[this.currentIndex]}addAndPlay(i){i={sha:i.sha,name:i.name,mimeType:i.mimeType};let a=this.currentItem();a&&a.sha==i.sha||this.pushQueueAndPlay(i)}playNext(){this.currentIndex+1<this.queue.length?this.play(this.currentIndex+1):this.playNextUnrolled()}playNextUnrolled(){if(this.itemUnroller){let i=this.itemUnroller.unroll();i?(this.itemUnroller.hasNext()||(this.itemUnroller=null),this.pushQueueAndPlay(i)):(this.itemUnroller=null,this.refreshPlaylist())}}setItemUnroller(i){this.itemUnroller=i,this.refreshPlaylist()}pushQueueAndPlay(i){i.mimeType.startsWith("audio/")&&(this.queue.push(i),localStorage.setItem("playlist-backup",JSON.stringify(this.queue)),this.playImmediately||!this.isPlaying()?this.play(this.queue.length-1):l.displayMessage(`${i.name} added to playlist`,0))}play(i){if(i<0&&(i=-1),this.currentIndex=i,this.refreshPlaylist(),i>=0&&i<this.queue.length){const t=this.queue[i];a.audioPanel.play(this.audioPanel,t.name,t.sha,t.mimeType),document.querySelectorAll(`[x-for-sha='${t.sha.substr(0,5)}']`).forEach(i=>i.classList.add("is-weighted")),document.title=`${t.name} playing by Raccoon`}else document.title="Raccoon"}refreshPlaylist(){this.refreshTimer&&clearTimeout(this.refreshTimer),this.refreshTimer=setTimeout(()=>this.realRefreshPlaylist(),10)}realRefreshPlaylist(){if(!this.queue||!this.queue.length)return void(this.largeDisplay?this.audioPanel.playlist.innerHTML='<span class="mui--text-dark-secondary">There are no items in your playlist. Click on songs to play them.</span>':this.audioPanel.playlist.innerHTML="");let i="";if(this.largeDisplay){this.expandedElements.forEach(i=>i.classList.remove("is-hidden"));for(let a=0;a<this.queue.length;a++){let t=this.queue[a];i+=this.playlistItemHtml(a,t.name,!1)}this.itemUnroller&&this.itemUnroller.hasNext()&&(i+=`<div style="flex-shrink: 0;" x-queue-index="${this.queue.length}" class="onclick mui--text-dark-secondary is-onelinetext">${this.itemUnroller.name()}</div>`),i+="<div class=\"mui--text-dark-secondary\"><a x-id='clear-playlist' href='#'>clear playlist</a></div>",i+=`<div class="mui--text-dark-secondary"><label>Play immediately <input x-id='play-immediately' class="mui-checkbox--inline" ${this.playImmediately?"checked":""} type="checkbox"/></label></div>`}else this.expandedElements.forEach(i=>i.classList.add("is-hidden")),this.currentIndex>=0&&this.currentIndex<this.queue.length&&(i+=this.playlistItemHtml(this.currentIndex,this.queue[this.currentIndex].name,!0),this.currentIndex<this.queue.length-1?i+=`<div style="flex-shrink: 0;" x-queue-index="${this.currentIndex+1}" class="onclick mui--text-dark-secondary is-onelinetext">followed by '${this.queue[this.currentIndex+1].name.substr(0,20)}' ...</div>`:this.itemUnroller&&this.itemUnroller.hasNext()&&(i+=`<div style="flex-shrink: 0;" x-queue-index="${this.queue.length}" class="onclick mui--text-dark-secondary is-onelinetext">${this.itemUnroller.name()}</div>`));this.audioPanel.playlist.innerHTML=i,this.largeDisplay&&this.scrollToPlayingItem&&(this.scrollToPlayingItem=!1,this.audioPanel.playlist.scrollTop=this.audioPanel.playlist.scrollHeight)}playlistItemHtml(i,a,t){return`<div x-queue-index="${i}" class="onclick ${t?"is-onelinetext":""} ${i==this.currentIndex?"mui--text-headline":""}">${a}</div>`}isPlaying(){return this.audioPanel.player.currentSrc&&this.audioPanel.player.currentTime>0&&!this.audioPanel.player.paused&&!this.audioPanel.player.ended&&this.audioPanel.player.readyState>2}}},function(i,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const e=t(1),n=t(0),p=t(12);a.directoryPanel={create:()=>n.createTemplateInstance('\n<div class=\'mui-container\'>\n    <div class="mui--text-center">\n        <h2 x-id="title"></h2>\n        <div x-id="items" class="mui-panel"></div>\n    </div>\n</div>'),setLoading:(i,a)=>{i.title.innerHTML=`Loading '${a}' ...`,i.items.innerHTML=""},displaySearching:(i,a)=>{i.title.innerHTML=`<div class="mui--text-dark-hint">Searching '${a}' ...</div>`,i.items.innerHTML=""},setValues:(i,a)=>{i.title.innerHTML=`${a.name}`,i.items.classList.remove("x-image-panel"),i.items.classList.add("x-items-panel"),a.items&&a.items.length?i.items.innerHTML=a.items.map(p.itemToHtml).join(""):i.items.innerHTML='<div class="mui--text-dark-hint">No results</div>'},setImages:(i,a)=>{i.title.innerHTML=a.term,i.items.classList.add("x-image-panel"),i.items.classList.remove("x-items-panel"),i.items.innerHTML=a.items.map(i=>i.mimeType.startsWith("image/")?`<div><img class="x-image-zoom-action onclick" loading="lazy" src="blank.jpeg" data-src="${e.getShaImageThumbnailUrl(i.sha,i.mimeType)}"/></div>`:`<div>${p.itemToHtml(i)}</div>`).join("");let t=a.items.map((i,a)=>({item:i,index:a})).filter(i=>i.item.mimeType.startsWith("image/")),n=new IntersectionObserver(function(i,a){i.forEach(function(i){if(i.isIntersecting){let a=i.target;a.src=a.getAttribute("data-src"),n.unobserve(a)}})});t.slice(0,25).forEach(a=>n.observe(i.items.children.item(a.index).children.item(0))),t.length>25&&setTimeout(()=>{t.slice(25).forEach(a=>n.observe(i.items.children.item(a.index).children.item(0)))},2e3)}}},function(i,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const e=t(1);a.itemToHtml=function(i){return"application/directory"==i.mimeType?`<div class="onclick"><i>${i.name} ...</i></div>`:"application/reference"==i.mimeType?`<div class="onclick"><i>${i.name} ...</i></div>`:"application/playlist"==i.mimeType?`<div class="onclick"><i>${i.name} ...</i></div>`:i.mimeType.startsWith("audio/")?`<div x-for-sha="${i.sha&&i.sha.substr(0,5)}" class="onclick">${i.name}</div>`:`<div x-for-sha="${i.sha&&i.sha.substr(0,5)}" class="onclick"><a href="${e.getShaContentUrl(i.sha,i.mimeType,i.name,!0,!1)}" target="_blank">${i.name}</a> <a class="x-info-display-action mui--text-dark-secondary" href="#">info</a></div>`}},function(i,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const e=t(1),n=t(0),p=t(3),o=i=>new Promise(a=>setTimeout(a,i)),l=i=>Math.floor(i*Math.random()),s='\n<div class=\'mui-container\'>\n    <div class="mui--text-center">\n        <h2>Slideshow</h2>\n        <div x-id="items" class="mui-panel x-slideshow"></div>\n        speed: <input x-id="speed" type="range" min="50" max="3000" value="2000"/>\n        nb rows: <input x-id="nbRows" type="number" min="1" max="150" value="1"/>\n        nb images: <input x-id="nbImages" type="number" min="1" max="100" value="3"/>\n        interval: <input x-id="interval" type="number" min="1" max="365" value="15" value="50"/>\n        <input x-id="date" type="range" min="-7300" max="0" value="0" style="width:100%;"/>\n        <div x-id="remark"></div>\n    </div>\n</div>';a.create=function(){let i=n.createTemplateInstance(s);const a=()=>{let i=c();if(i){let a=i.parentElement;a.removeChild(i),a.children.length||a.parentElement.removeChild(a)}return i},t=a=>{let t=document.createElement("img"),e=null;return i.items.children.length<a?(e=document.createElement("div"),i.items.appendChild(e)):e=i.items.children.item(l(i.items.children.length)),e.appendChild(t),t},c=()=>{let a=[];for(let t of i.items.children)for(let i of t.children)a.push(i);return a.length?a[l(a.length)]:null},d=a=>{for(let t=0;t<i.items.children.length;t++){const e=i.items.children.item(t);for(let i=0;i<e.children.length;i++)a.add(e.children.item(i))}},r=()=>{let a=0;for(let t=0;t<i.items.children.length;t++)a+=i.items.children.item(t).children.length;return a};return(async()=>{let n=[],s=null,m=null,u=0,v=!1,x=new Set;for(;;)try{const f=1e3*parseInt(i.date.value||"0")*60*60*24,h=parseInt(i.interval.value)||1,g=1e3*h*60*60*24,y=parseInt(i.nbImages.value)||1,b=parseInt(i.nbRows.value)||1,w=parseInt(i.speed.value)||2e3;let k=(new Date).getTime()+f,T=!1;if(s!=f||m!=g?(u=0,T=!0,x=new Set,d(x)):n&&n.length||(T=!v),T){s=f,m=g,console.log(`do a search on ${k} +/- ${h} @ ${u}`);let i={mimeType:"image/%",noDirectory:!0,limit:13,offset:u,dateMin:k-g,dateMax:k+g};const a=await e.searchEx(i);(n=a&&a.items).length?u+=n.length:u=0,v=0==n.length}if(n&&n.length)if(i.remark.innerHTML=`${new Date(k).toDateString()} : ${y} images on ${b} rows +/- ${h} days (@${u})`,r()>y){let i=a();i&&x.has(i)&&x.delete(i)}else{let i=null;i=r()<y?t(b):c(),x.has(i)&&x.delete(i);let a=l(n.length),[p]=n.splice(a,1);p&&(i.src=e.getShaImageThumbnailUrl(p.sha,p.mimeType))}else if(i.remark.innerHTML=`${new Date(k).toDateString()}, no more image, change the cursors`,x.size){let i=[];if(x.forEach(a=>i.push(a)),i.length){let a=i[l(i.length)];a.parentElement.removeChild(a),x.delete(a)}}await o(w)}catch(i){p.displayMessage("error in slideshow, waiting 5s",-1),await o(5e3)}})(),i}},function(i,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const e=t(2),n=t(1),p=t(0),o=t(3),l=t(4),s=1024,c=1024*s,d=1024*c,r=1024*d;function m(i){return i>2*r?`${(i/r).toFixed(1)} TBb (${i} bytes)`:i>2*d?`${(i/d).toFixed(1)} Gb (${i} bytes)`:i>2*c?`${(i/c).toFixed(1)} Mb (${i} bytes)`:i>2*s?`${(i/s).toFixed(1)} kb (${i} bytes)`:i>1?`${i} bytes`:1==i?"1 byte":"empty"}let u=!1;const v=p.createTemplateInstance('\n<div class="mui-container">\n    <div class=\'mui-panel\'>\n        <div x-id="title" class="mui--text-title"></div>\n        <div class="mui-divider"></div>\n        <div>sha: <span x-id=\'sha\'></span></div>\n        <div>size: <span x-id=\'size\'></span></div>\n        <div>mime type: <span x-id=\'mimeType\'></span></div>\n        <div class="mui-divider"></div>\n        <div><a x-id="download" href="#">download link</a></div>\n        <div class="mui-divider"></div>\n        <div x-id="extras"></div>\n\n        <div>names: <span x-id=\'names\'></span></div>\n        <div>write dates: <span x-id=\'writeDates\'></span></div>\n        <div>parents: <div x-id=\'parents\'></div></div>\n        <div>sources: <div x-id=\'sources\'></div></div>\n        <div>exif: <div x-id="exif"></div></div>\n        <div>audio metadata: <div x-id="audioMetadata"></div></div>\n        <div class="mui-divider"></div>\n        <div x-id="close" class="mui-btn mui-btn--flat mui-btn--primary">Close</div>\n    </div>\n</div>'),x={keyboard:!1,static:!0,onclose:function(){}};v.close.addEventListener("click",i=>{e.stopEvent(i),history.back()}),a.hide=function(){u&&(u=!1,mui.overlay("off"))},a.show=function(i){v.title.innerText=`${i.name} details`,v.sha.innerText=i.sha,v.mimeType.innerText=i.mimeType,v.size.innerText=m(i.size);let a=i.name,t="."+l.extensionFromMimeType(i.mimeType);a.endsWith(t)||(a+=t),v.download.href=n.getShaContentUrl(i.sha,i.mimeType,a,!0,!0),i.mimeType.startsWith("image/")?v.extras.innerHTML=`<a target="_blank" href="${n.getShaContentUrl(i.sha,i.mimeType,i.name,!0,!1)}"><img src="${n.getShaImageThumbnailUrl(i.sha,i.mimeType)}"/></a><div class="mui-divider"></div>`:v.extras.innerHTML="",u||mui.overlay("on",x,v.root),u=!0,v.names.innerText="...",v.writeDates.innerText="...",v.parents.innerHTML="...",v.sources.innerHTML="...",v.exif.innerHTML="...",v.audioMetadata.innerHTML="...",(async()=>{const a=await n.getShaInfo(i.sha);a?(v.mimeType.innerText=a.mimeTypes.join(", "),v.names.innerText=a.names.join(", "),v.writeDates.innerText=a.writeDates.map(i=>new Date(i/1e3).toDateString()).join(", "),v.size.innerText=a.sizes.map(m).join(", "),v.parents.innerHTML=a.parents.map(a=>`<div><a href="#/directories/${a}?name=${encodeURIComponent(`${i.name}'s parents`)}">${a}</a></div>`).join(""),v.sources.innerHTML=a.sources.map(i=>`<div><a href="#/refs/${i}">${i}</a></div>`).join(""),a.exifs&&a.exifs.length?v.exif.innerHTML=`\n                <table class="mui-table">\n                    <thead>\n                        <tr>\n                        <th>Property</th>\n                        <th>Value</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        ${a.exifs.map(i=>Object.entries(i).map(([i,a])=>`<tr><td>${i}</td><td>${a}</td></tr>`).join("")).join("")}\n                    </tbody>\n                </table>`:v.exif.innerHTML="no exif data",a.audioMetadata&&a.audioMetadata.length?v.audioMetadata.innerHTML=`<pre>${JSON.stringify(a.audioMetadata,null,2)}</pre>`:v.audioMetadata.innerHTML="no audio metadata"):o.displayMessage("Cannot load detailed information...",-1)})()}},function(i,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const e=t(1),n=t(0),p=t(2),o=t(3),l=t(5);let s=null,c=null;const d=n.createTemplateInstance('\n    <div class="x-image-detail">\n        <a x-id="downloadLink"><img x-id="image"/></a>\n        <div x-id="toolbar">\n        <button x-id="info" class="mui-btn mui-btn--flat">Info</button>\n        <button x-id="previous" class="mui-btn mui-btn--flat">Previous</button>\n        <button x-id="close" class="mui-btn mui-btn--flat">Close</button>\n        <button x-id="next" class="mui-btn mui-btn--flat">Next</button>\n        <button x-id="diaporama" class="mui-btn mui-btn--flat">Diapo</button>\n        </div>\n    </div>');function r(){if(s){let i=s.next();i&&v(i)}}d.info.addEventListener("click",i=>{p.stopEvent(i),c&&(u(),l.goShaInfo(c))}),d.previous.addEventListener("click",i=>{if(p.stopEvent(i),s){let i=s.previous();i&&v(i)}}),d.next.addEventListener("click",i=>{p.stopEvent(i),r()});let m=null;function u(){m&&(o.displayMessage("Diaporama stopped",0),clearInterval(m),m=null)}function v(i){c=i,document.body.querySelector("header").style.display="none",d.root.isConnected||document.body.appendChild(d.root),d.image.src=e.getShaImageMediumThumbnailUrl(i.sha,i.mimeType),d.image.alt=i.name,d.downloadLink.href=e.getShaContentUrl(i.sha,i.mimeType,i.name,!0,!0)}d.diaporama.addEventListener("click",i=>{if(p.stopEvent(i),m)u();else if(o.displayMessage("Start diaporama",0),m=setInterval(()=>r(),2e3),s){let i=s.next();i&&v(i)}}),d.close.addEventListener("click",i=>{p.stopEvent(i),u(),s=null,document.body.querySelector("header").style.display=void 0,d.root.isConnected&&d.root.parentElement.removeChild(d.root)}),a.show=function(i,a){s=a,v(i)}},function(i,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const e=t(2),n=t(0),p=t(1),o=t(3),l=t(7),s='\n<div class=\'mui-container-fluid\'>\n    <div class="mui--text-center">\n        <h1>Settings</h1>\n        <h2>Youtube Download</h2>\n        <div class="mui-panel">\n            <form x-id="youtubedlForm" class="mui-form">\n                <div class="mui-textfield">\n                    <input x-id="youtubedlUrl" type="text">\n                </div>\n                <button role="submit" class="mui-btn mui-btn--flat">Download</button>\n            </form>\n            <a x-id="youtubeDlPlaylistLink" href=\'#\'>Go to Youtube downloaded list</a>\n        </div>\n\n        <h2>Running jobs</h2>\n        <div class="mui-panel">\n            <pre x-id="runningJobs"></pre>\n            <button x-id="refreshJobs" class="mui-btn mui-btn--flat">Refresh</button>\n        </div>\n    </div>    \n</div>';async function c(i){let a=await p.getJobs(),t=[];a.running&&t.push(a.running),a.waiting&&(t=t.concat(a.waiting)),i.runningJobs.innerHTML=`\n        <table class="mui-table">\n            <thead>\n                <tr>\n                <th>State</th>\n                <th>Type</th>\n                <th>Name</th>\n                </tr>\n            </thead>\n            <tbody>\n                ${t.map((i,a)=>`<tr><td>${0==a?"Running":"Waiting"}</td><td>${i.clientName}</td><td>${i.name}</td></tr>`).join("")}\n            </tbody>\n        </table>`}a.create=function(){let i=n.createTemplateInstance(s);return i.youtubedlForm.addEventListener("submit",async a=>{e.stopEvent(a),await p.enqueueYoutubeDownload(i.youtubedlUrl.value),i.youtubedlUrl.value="",i.youtubedlUrl.blur(),o.displayMessage("Downloading from youtube",1),c(i)}),l.me().then(a=>{i.youtubeDlPlaylistLink.href=`#/refs/PLUGIN-YOUTUBEDOWNLOAD-${a.uuid.toUpperCase()}`}),i.refreshJobs.addEventListener("click",a=>{e.stopEvent(a),c(i)}),c(i),i}}]);